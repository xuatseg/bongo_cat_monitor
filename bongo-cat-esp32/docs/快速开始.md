# 快速开始指南

## 前置要求

1. **PlatformIO**: 安装 PlatformIO IDE 或 CLI
   ```bash
   pip install platformio
   ```

2. **硬件**:
   - ESP32-WROOM-32 开发板
   - ILI9341 TFT 显示屏 (240x320)
   - 根据引脚配置正确接线

## 快速构建和上传

```bash
# 导航到项目目录
cd bongo-cat-esp32

# 一条命令完成构建、上传和监视
pio run --target upload --target monitor
```

## 引脚配置 (ESP32 到 ILI9341)

| 功能 | ESP32 GPIO | ILI9341 引脚 |
|------|-----------|-------------|
| MISO | 12        | SDO (MISO)  |
| MOSI | 13        | SDI (MOSI)  |
| SCLK | 14        | SCK         |
| CS   | 15        | CS          |
| DC   | 2         | DC/RS       |
| RST  | -         | RST (3.3V)  |
| BL   | 27        | LED/BL      |
| VCC  | 3.3V      | VCC         |
| GND  | GND       | GND         |

## 首次设置

如果这是克隆后的首次构建：

```bash
# 1. 复制配置文件（如果 extra_script.py 不工作）
./copy_configs.sh

# 2. 构建并上传
pio run --target upload --target monitor
```

## 常用命令

```bash
# 仅构建
pio run

# 仅上传（必须先构建）
pio run --target upload

# 监视串口输出
pio device monitor

# 清理构建
pio run --target clean
```

## 验证成功

### 串口输出
你应该看到：
```
🐱 Bongo Cat with Sprites Starting...
🔦 Backlight initialized on pin 27
📺 TFT initialized, setting rotation...
✅ Bongo Cat Ready!
🖼️ First flush callback triggered!
```

### 显示屏
- 白色背景
- Bongo Cat 动画
- 系统统计信息（CPU、RAM、WPM）
- 时间显示

## 故障排除

### 构建失败
```bash
# 清理并重新构建
pio run --target clean
pio run
```

### 上传失败
1. 检查 USB 连接
2. 尝试在上传时按住 BOOT 按钮
3. 降低 `platformio.ini` 中的上传速度

### 显示屏空白
1. 检查接线
2. 验证背光连接（GPIO 27）
3. 检查串口输出是否有错误

## 下一步

- 阅读 [调试指南.md](调试指南.md) 获取详细信息
- 查看 [../README.md](../README.md) 了解项目概述
- 如需要，在 `platformio.ini` 中配置显示设置


